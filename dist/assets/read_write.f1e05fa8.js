var D=Object.defineProperty;var j=(o,t,r)=>t in o?D(o,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[t]=r;var u=(o,t,r)=>(j(o,typeof t!="symbol"?t+"":t,r),r);const P=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerpolicy&&(l.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?l.credentials="include":e.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(e){if(e.ep)return;e.ep=!0;const l=r(e);fetch(e.href,l)}};P();const O=document.querySelector("#nav_div");O.innerHTML+=`
<div class="w3-top">
	<div class="w3-bar w3-black w3-card" id="myNavbar">
	<div class="w3-bar-item w3-left w3-button">
		<a href="/">
		replace.io		
		</a>
	</div>

		<!-- Right-sided navbar links -->
		<div class="w3-right w3-hide-small">
			<a href="./about.html" class="w3-bar-item w3-button">ABOUT</a>
			<a href="./help.html" class="w3-bar-item w3-button">HELP</a>
			<a href="./add_pattern.html" class="w3-bar-item w3-button">ADD</a>
		</div>
		<!-- Hide right-floated links on small screens and replace them with a menu icon -->
	</div>
</div>
`;var y=function(){return(y=Object.assign||function(o){for(var t,r=1,i=arguments.length;r<i;r++)for(var e in t=arguments[r])Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e]);return o}).apply(this,arguments)};function d(o,t,r,i){return new(r||(r=Promise))(function(e,l){function a(h){try{b(i.next(h))}catch(n){l(n)}}function s(h){try{b(i.throw(h))}catch(n){l(n)}}function b(h){var n;h.done?e(h.value):(n=h.value,n instanceof r?n:new r(function(v){v(n)})).then(a,s)}b((i=i.apply(o,t||[])).next())})}function p(o,t){var r,i,e,l,a={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(b){return function(h){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(e=2&n[0]?i.return:n[0]?i.throw||((e=i.return)&&e.call(i),0):i.next)&&!(e=e.call(i,n[1])).done)return e;switch(i=0,e&&(n=[2&n[0],e.value]),n[0]){case 0:case 1:e=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(e=a.trys,!((e=e.length>0&&e[e.length-1])||n[0]!==6&&n[0]!==2)){a=0;continue}if(n[0]===3&&(!e||n[1]>e[0]&&n[1]<e[3])){a.label=n[1];break}if(n[0]===6&&a.label<e[1]){a.label=e[1],e=n;break}if(e&&a.label<e[2]){a.label=e[2],a.ops.push(n);break}e[2]&&a.ops.pop(),a.trys.pop();continue}n=t.call(o,a)}catch(v){n=[6,v],i=0}finally{r=e=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([b,h])}}}function x(o,t){t===void 0&&(t=!1);var r=window.crypto.getRandomValues(new Uint32Array(1))[0],i="_".concat(r);return Object.defineProperty(window,i,{value:function(e){return t&&Reflect.deleteProperty(window,i),o==null?void 0:o(e)},writable:!1,configurable:!0}),r}function k(o,t){return t===void 0&&(t={}),d(this,void 0,void 0,function(){return p(this,function(r){return[2,new Promise(function(i,e){var l=x(function(s){i(s),Reflect.deleteProperty(window,"_".concat(a))},!0),a=x(function(s){e(s),Reflect.deleteProperty(window,"_".concat(l))},!0);window.__TAURI_IPC__(y({cmd:o,callback:l,error:a},t))})]})})}function q(o,t){t===void 0&&(t="asset");var r=encodeURIComponent(o);return navigator.userAgent.includes("Windows")?"https://".concat(t,".localhost/").concat(r):"".concat(t,"://").concat(r)}Object.freeze({__proto__:null,transformCallback:x,invoke:k,convertFileSrc:q});function w(o){return d(this,void 0,void 0,function(){return p(this,function(t){return[2,k("tauri",o)]})})}var c;function z(o,t){return t===void 0&&(t={}),d(this,void 0,void 0,function(){return p(this,function(r){return[2,w({__tauriModule:"Fs",message:{cmd:"readTextFile",path:o,options:t}})]})})}function M(o,t){return t===void 0&&(t={}),d(this,void 0,void 0,function(){var r;return p(this,function(i){switch(i.label){case 0:return[4,w({__tauriModule:"Fs",message:{cmd:"readFile",path:o,options:t}})];case 1:return r=i.sent(),[2,Uint8Array.from(r)]}})})}function f(o,t,r){return d(this,void 0,void 0,function(){var i,e;return p(this,function(l){return typeof r=="object"&&Object.freeze(r),typeof o=="object"&&Object.freeze(o),i={path:"",contents:""},e=r,typeof o=="string"?i.path=o:(i.path=o.path,i.contents=o.contents),typeof t=="string"?i.contents=t!=null?t:"":e=t,[2,w({__tauriModule:"Fs",message:{cmd:"writeFile",path:i.path,contents:Array.from(new TextEncoder().encode(i.contents)),options:e}})]})})}function T(o,t,r){return d(this,void 0,void 0,function(){var i,e;return p(this,function(l){return typeof r=="object"&&Object.freeze(r),typeof o=="object"&&Object.freeze(o),i={path:"",contents:[]},e=r,typeof o=="string"?i.path=o:(i.path=o.path,i.contents=o.contents),t&&"dir"in t?e=t:typeof o=="string"&&(i.contents=t!=null?t:[]),[2,w({__tauriModule:"Fs",message:{cmd:"writeFile",path:i.path,contents:Array.from(i.contents),options:e}})]})})}function _(o,t){return t===void 0&&(t={}),d(this,void 0,void 0,function(){return p(this,function(r){return[2,w({__tauriModule:"Fs",message:{cmd:"readDir",path:o,options:t}})]})})}function F(o,t){return t===void 0&&(t={}),d(this,void 0,void 0,function(){return p(this,function(r){return[2,w({__tauriModule:"Fs",message:{cmd:"createDir",path:o,options:t}})]})})}function R(o,t){return t===void 0&&(t={}),d(this,void 0,void 0,function(){return p(this,function(r){return[2,w({__tauriModule:"Fs",message:{cmd:"removeDir",path:o,options:t}})]})})}function L(o,t,r){return r===void 0&&(r={}),d(this,void 0,void 0,function(){return p(this,function(i){return[2,w({__tauriModule:"Fs",message:{cmd:"copyFile",source:o,destination:t,options:r}})]})})}function C(o,t){return t===void 0&&(t={}),d(this,void 0,void 0,function(){return p(this,function(r){return[2,w({__tauriModule:"Fs",message:{cmd:"removeFile",path:o,options:t}})]})})}function S(o,t,r){return r===void 0&&(r={}),d(this,void 0,void 0,function(){return p(this,function(i){return[2,w({__tauriModule:"Fs",message:{cmd:"renameFile",oldPath:o,newPath:t,options:r}})]})})}(function(o){o[o.Audio=1]="Audio",o[o.Cache=2]="Cache",o[o.Config=3]="Config",o[o.Data=4]="Data",o[o.LocalData=5]="LocalData",o[o.Desktop=6]="Desktop",o[o.Document=7]="Document",o[o.Download=8]="Download",o[o.Executable=9]="Executable",o[o.Font=10]="Font",o[o.Home=11]="Home",o[o.Picture=12]="Picture",o[o.Public=13]="Public",o[o.Runtime=14]="Runtime",o[o.Template=15]="Template",o[o.Video=16]="Video",o[o.Resource=17]="Resource",o[o.App=18]="App",o[o.Log=19]="Log",o[o.Temp=20]="Temp"})(c||(c={}));Object.freeze({__proto__:null,get BaseDirectory(){return c},get Dir(){return c},readTextFile:z,readBinaryFile:M,writeTextFile:f,writeFile:f,writeBinaryFile:T,readDir:_,createDir:F,removeDir:R,copyFile:L,removeFile:C,renameFile:S});let m,g=!1;class E{constructor(t,r,i){u(this,"id");u(this,"pattern");u(this,"replacement");this.id=t,this.pattern=r,this.replacement=i}}const H=async()=>{try{console.log("Here in try"),await _("",{dir:c.App})}catch{console.log("Here in catch"),await F("",{dir:c.App,recursive:!0})}},N=async()=>{try{g||await f({contents:"[]",path:"./data.json"},{dir:c.App})}catch(o){console.log(o)}},A=async()=>{try{let o;return g||(o=await z("./data.json",{dir:c.App}),console.log(o)),m=JSON.parse(o)}catch(o){console.log(o),await H(),await N()}};function U(o){m.push(o);try{g||f({contents:JSON.stringify(m),path:"./data.json"},{dir:c.App}),A()}catch(t){console.log(t)}}async function B(o){m=m.filter(t=>t.id!=o),console.log(m);try{g||await f({contents:JSON.stringify(m),path:"./data.json"},{dir:c.App})}catch(t){console.log(t)}return A()}export{E as P,U as a,B as d,A as r};
