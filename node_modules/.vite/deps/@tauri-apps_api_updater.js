import {
  a,
  o,
  o2,
  o3
} from "./chunk-ZFCXH6WY.js";

// node_modules/@tauri-apps/api/event-aba177ae.js
function r(e3, r2) {
  return o(this, void 0, void 0, function() {
    return a(this, function(t) {
      return [2, o3({ __tauriModule: "Event", message: { cmd: "unlisten", event: e3, eventId: r2 } })];
    });
  });
}
function u(e3, r2, u4) {
  return o(this, void 0, void 0, function() {
    return a(this, function(t) {
      switch (t.label) {
        case 0:
          return [4, o3({ __tauriModule: "Event", message: { cmd: "emit", event: e3, windowLabel: r2, payload: typeof u4 == "string" ? u4 : JSON.stringify(u4) } })];
        case 1:
          return t.sent(), [2];
      }
    });
  });
}
function o4(u4, o5, s3) {
  return o(this, void 0, void 0, function() {
    var a3 = this;
    return a(this, function(c) {
      return [2, o3({ __tauriModule: "Event", message: { cmd: "listen", event: u4, windowLabel: o5, handler: o2(s3) } }).then(function(i2) {
        return function() {
          return o(a3, void 0, void 0, function() {
            return a(this, function(t) {
              return [2, r(u4, i2)];
            });
          });
        };
      })];
    });
  });
}
function s(i2, e3, u4) {
  return o(this, void 0, void 0, function() {
    return a(this, function(t) {
      return [2, o4(i2, e3, function(t2) {
        u4(t2), r(i2, t2.id).catch(function() {
        });
      })];
    });
  });
}

// node_modules/@tauri-apps/api/event-ba1b22ef.js
function e(o5, r2) {
  return o(this, void 0, void 0, function() {
    return a(this, function(n) {
      return [2, o4(o5, null, r2)];
    });
  });
}
function u2(i2, r2) {
  return o(this, void 0, void 0, function() {
    return a(this, function(n) {
      return [2, s(i2, null, r2)];
    });
  });
}
function s2(i2, o5) {
  return o(this, void 0, void 0, function() {
    return a(this, function(n) {
      return [2, u(i2, void 0, o5)];
    });
  });
}
var a2 = Object.freeze({ __proto__: null, listen: e, once: u2, emit: s2 });

// node_modules/@tauri-apps/api/updater-0d747ff0.js
function i() {
  return o(this, void 0, void 0, function() {
    function t() {
      r2 && r2(), r2 = void 0;
    }
    var r2;
    return a(this, function(n) {
      return [2, new Promise(function(n2, i2) {
        e("tauri://update-status", function(o5) {
          var a3;
          (a3 = o5 == null ? void 0 : o5.payload).error ? (t(), i2(a3.error)) : a3.status === "DONE" && (t(), n2());
        }).then(function(t2) {
          r2 = t2;
        }).catch(function(n3) {
          throw t(), n3;
        }), s2("tauri://update-install").catch(function(n3) {
          throw t(), n3;
        });
      })];
    });
  });
}
function u3() {
  return o(this, void 0, void 0, function() {
    function t() {
      i2 && i2(), i2 = void 0;
    }
    var i2;
    return a(this, function(n) {
      return [2, new Promise(function(n2, u4) {
        u2("tauri://update-available", function(o5) {
          var a3;
          a3 = o5 == null ? void 0 : o5.payload, t(), n2({ manifest: a3, shouldUpdate: true });
        }).catch(function(n3) {
          throw t(), n3;
        }), e("tauri://update-status", function(o5) {
          var a3;
          (a3 = o5 == null ? void 0 : o5.payload).error ? (t(), u4(a3.error)) : a3.status === "UPTODATE" && (t(), n2({ shouldUpdate: false }));
        }).then(function(t2) {
          i2 = t2;
        }).catch(function(n3) {
          throw t(), n3;
        }), s2("tauri://update").catch(function(n3) {
          throw t(), n3;
        });
      })];
    });
  });
}
var e2 = Object.freeze({ __proto__: null, installUpdate: i, checkUpdate: u3 });
export {
  u3 as checkUpdate,
  i as installUpdate
};
//# sourceMappingURL=@tauri-apps_api_updater.js.map
